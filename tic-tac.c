#include <stdio.h>
#include<stdlib.h>


int main()
{
	char sym1='O',sym2='X',nm1[100],nm2[100],plc[10];
	int pl=0,val,opt,rlt=0;

	//function for diplay places
	void tic(char* n1,char* n2)
	{
		system("cls");
		printf("\n******* You are playing TIC-TAC-TOE ******* \n\n\t <<DONT CHOOSE SAME PLACE!>>\n\n");
		printf("%s symbol is :O\t%s symbol is :X\n",n1,n2 );
		printf("\n\t\t|---|---|---|\n\t\t| %c | %c | %c |\n\t\t|---+---+---|\n\t\t| %c | %c | %c |\n\t\t|---+---+---|\n\t\t| %c | %c | %c |\n\t\t|---|---|---|\n\n",plc[0],plc[1],plc[2],plc[3],plc[4],plc[5],plc[6],plc[7],plc[8]);

	}
	//function for evaluvate
	int eval(char sy,char* nm)
	{
		if ((plc[0] & plc[1] & plc[2])==sy || (plc[3] & plc[4] & plc[5])==sy || (plc[6] & plc[7] & plc[8])==sy )
				{
					printf("\n\t**!! %s won this match !!** \n ",nm);
					pl=3;
					return 1;
				}
				else if((plc[0] & plc[3] & plc[6])==sy|| (plc[1] & plc[4] & plc[7])==sy || (plc[2] & plc[5] & plc[8])==sy)
				{
					printf("\n\t**!! %s won this match !!** \n",nm);
					pl=3;
					return 1;
				}
				else if ((plc[0] & plc[4] & plc[8])==sy || (plc[2] & plc[4] & plc[6])==sy)
				{
					printf("\n\t**!! %s won this match !!** \n",nm);
					pl=3;
					return 1;
				}
	}


	while(1)
	{	static int i=0;

		//Game opening
		switch(pl)
		{
			case 0:
				system("cls");
				printf("\n\n*********** WELCOME TO TIC-TAC-TOE *********** \n\n");
				printf("Enter Player1 Name :");
				scanf("%s",&nm1);

				printf("Enter Player2 Name :");
				scanf("%s",&nm2);

				pl=1;

				i=0;

				plc[0]='1';
				plc[1]='2';
				plc[2]='3';
				plc[3]='4';
				plc[4]='5';
				plc[5]='6';
				plc[6]='7';
				plc[7]='8';
				plc[8]='9';

				tic(nm1,nm2);

				break;

			//this for player1	
			case 1:
				pl=2;
				
				printf("Choose your place %s (1-9) :",nm1 );
				scanf("%d",&val);

				plc[val-1]=sym1;

				tic(nm1,nm2);

				i++;

				rlt=eval(sym1,nm1);

				if (rlt==1)
				{
					break;
				}
				else if (i==5)
				{
					printf("\n\t   **!! Draw Match !!** \n");
					pl=3;
				}

				break;

			//this for player2
			case 2:
				pl=1;
				
				printf("Choose your place %s (1-9) :",nm2 );
				scanf("%d",&val);

				plc[val-1]=sym2;

				tic(nm1,nm2);

				rlt=eval(sym2,nm2);

				if (rlt==1)
				{
					break;
				}
				else if (i==5)
				{
					printf("\n\t   **!! Draw Match !!** \n");
					pl=3;
				}

				break;

			//ending menu
			default :
				printf("\n\n\t -----|| Game OVER ||-----\t\n");
				printf("\t ||\t\t    \t||\n\t || 1.Play Again    \t||\n\t || 2.Exit\t    \t||\n\t _________________________\n\t Enter option :");
				scanf("%d",&opt);
				if (opt==1)
				{
					pl=0;
				}
				else
				{
					return 0;
				}
		}	
	}

	return 0;
}





















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































